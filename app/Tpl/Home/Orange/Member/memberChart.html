<include file="Public:header" />
<include file="Public:nav" />
<h2 class="page-header">会员统计图表</h2>
<ul class="nav nav-tabs" id="myTab">
  <li class="active"><a href="#home" data-toggle="tab">会员增长趋势图</a></li>
  <li><a href="#profile" data-toggle="tab">会员丢失趋势图</a></li>
  <li><a href="#messages" data-toggle="tab">会员数量趋势图</a></li>
</ul>
<div class="tab-content">
    <div class="tab-pane fade in active" id="home">
        <canvas id="new" width="600px" height="400"></canvas>
    </div>
    <div class="tab-pane fade" id="profile">
        <canvas id="lost" width="600px" height="400"></canvas>
    </div>
    <div class="tab-pane fade" id="messages">
        <canvas id="count" width="600px" height="400"></canvas>
    </div>
</div>
<include file="Public:footer" />
<script src="__PUBLIC__/js/chart.min.js"></script>
<script>
  $(function () {
    $('#myTab a:last').tab('show');

    function getData(dataList){
        var data = {
            labels : {$dateList},
	        datasets : [{
			    fillColor : "rgba(248,159,159,1)",
			    strokeColor : "rgba(248,159,159,1)",
			    pointColor : "rgba(248,159,159,1)",
			    pointStrokeColor : "#fff",
                data : dataList
            },]};
        return data;}
    var m_new = document.getElementById("new").getContext("2d");
    var m_lost = document.getElementById("lost").getContext("2d");
    var m_count = document.getElementById("count").getContext("2d");
    var myNewChart = new Chart(m_new).Line(getData({$newList}));
    var myNewChart = new Chart(m_lost).Line(getData({$lostList}));
    var myNewChart = new Chart(m_count).Line(getData({$countList}));

  })
</script>
